---
phase: 03-category-detail-integration
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/pages/hud/hud-category-detail/hud-category-detail.page.scss
autonomous: true

must_haves:
  truths:
    - "Layout is edge-to-edge on mobile (no side padding)"
    - "Photos display in 3-column grid"
    - "Photo sizing is consistent using aspect-ratio: 1/1"
    - "Accordion headers are flat gray design matching EFE"
  artifacts:
    - path: "src/app/pages/hud/hud-category-detail/hud-category-detail.page.scss"
      provides: "Edge-to-edge mobile styling matching EFE"
      contains: "grid-template-columns: repeat(3, 1fr)"
  key_links:
    - from: ".page-container"
      to: "edge-to-edge layout"
      via: "padding: 0"
      pattern: "page-container.*padding:\\s*0"
---

<objective>
Update HUD category-detail SCSS to edge-to-edge mobile styling matching engineers-foundation

Purpose: Mobile layout matches EFE exactly - no visual differences users can notice
Output: hud-category-detail.page.scss with flat, edge-to-edge design and CSS Grid photos
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/03-category-detail-integration/03-RESEARCH.md

# Source styling
@src/app/pages/engineers-foundation/structural-systems/category-detail/category-detail.page.scss (lines 1-100 for layout, 670-810 for photo grid)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update page-container and content-section to edge-to-edge</name>
  <files>src/app/pages/hud/hud-category-detail/hud-category-detail.page.scss</files>
  <action>
Replace the existing .page-container and .content-section styles (around lines 8-24) with EFE edge-to-edge pattern:

```scss
// ===========================================
// EDGE-TO-EDGE FULL-SCREEN LAYOUT
// ===========================================

.page-container {
  padding: 0;
  margin: 0;
  background: #f5f5f5;
  min-height: 100vh;
  scroll-behavior: auto !important;
}

.content-section {
  background: #f5f5f5;
  border-radius: 0;
  box-shadow: none;
  padding: 0;
  min-height: 200px;
  scroll-behavior: auto !important;
}
```

This removes:
- 20px padding from page-container
- max-width: 1200px constraint
- white background from content-section
- 16px border-radius from content-section
- box-shadow from content-section
- 24px padding from content-section

Source: EFE category-detail.page.scss lines 8-27
  </action>
  <verify>Grep for "padding: 0" in .page-container section returns a match</verify>
  <done>Page container is edge-to-edge with no padding or max-width constraints</done>
</task>

<task type="auto">
  <name>Task 2: Update photo grid to CSS Grid 3-column layout</name>
  <files>src/app/pages/hud/hud-category-detail/hud-category-detail.page.scss</files>
  <action>
Find the .image-preview-container section (around line 75) and replace flexbox with CSS Grid:

```scss
.image-preview-container {
  display: grid !important;
  grid-template-columns: repeat(3, 1fr) !important;
  gap: 6px !important;
  align-items: start;
  min-height: 0;
  overflow: visible;
  width: 100% !important;

  // 3 photos per row using CSS Grid
  .image-preview.structural-photo-preview {
    position: relative !important;
    width: 100% !important;
    max-width: none !important;
    min-width: 0 !important;
    display: block !important;
    overflow: visible !important;
    margin: 0 !important;
    padding-bottom: 30px !important;
    background: transparent !important;
    box-sizing: border-box !important;

    // ... keep existing &.uploading, img.loading styles ...

    img {
      width: 100% !important;
      aspect-ratio: 1 / 1 !important;
      height: auto !important;
      border-radius: 16px !important;
      object-fit: cover !important;
      display: block !important;
      border: 2px solid #ddd !important;
      cursor: pointer;
      transition: none;
      background: #f5f5f5;

      @media (hover: hover) and (pointer: fine) {
        &:hover {
          transform: scale(1.02);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
      }
    }

    // Update .room-photo-caption for full-width in grid
    .room-photo-caption {
      width: 100% !important;
      padding: 4px 6px !important;
      font-size: 10px !important;
      text-align: center !important;
      border: 1px solid #e0e0e0 !important;
      border-radius: 6px !important;
      background: white !important;
      color: #666 !important;
      transition: none !important;
      margin-top: 6px !important;
      display: block !important;
      position: relative !important;
      box-sizing: border-box !important;
      cursor: pointer;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
  }
}
```

Key changes from HUD's current flexbox approach:
- display: flex -> display: grid
- gap: 12px -> gap: 6px
- Fixed 90px width -> width: 100% with aspect-ratio
- New grid-template-columns: repeat(3, 1fr)

Source: EFE category-detail.page.scss lines 671-810
  </action>
  <verify>Grep for "grid-template-columns: repeat(3, 1fr)" returns a match</verify>
  <done>Photos display in consistent 3-column grid with aspect-ratio sizing</done>
</task>

<task type="auto">
  <name>Task 3: Update image-preview-section container styling</name>
  <files>src/app/pages/hud/hud-category-detail/hud-category-detail.page.scss</files>
  <action>
Update the .image-preview-section container (around line 47) to match EFE flat styling:

```scss
.image-preview-section {
  padding: 16px;
  background: white;
  border-top: none;
  border-radius: 0;
  clear: both;
  display: block;
  width: 100%;
  overflow: visible;

  // ... keep existing .upload-status styles ...
}
```

Remove any rounded corners or shadows from the image preview section to maintain flat design.

Also ensure .category-content wrapper has no conflicting padding:
```scss
.category-content {
  // Photo preview styling
  .image-preview-section {
    // styles above
  }
}
```

Source: EFE category-detail.page.scss lines 640-651
  </action>
  <verify>Grep for "image-preview-section" shows border-radius: 0</verify>
  <done>Image preview section uses flat styling with no rounded corners</done>
</task>

</tasks>

<verification>
- [ ] .page-container has padding: 0 (edge-to-edge)
- [ ] .page-container has no max-width constraint
- [ ] .content-section has border-radius: 0 and box-shadow: none
- [ ] .image-preview-container uses CSS Grid with 3 columns
- [ ] Photos use aspect-ratio: 1/1 for consistent sizing
- [ ] .image-preview-section has flat styling (no rounded corners)
</verification>

<success_criteria>
HUD category-detail page visually matches EFE category-detail:
1. Edge-to-edge layout with no side padding
2. Photos in 3-column grid layout
3. Consistent photo sizing via aspect-ratio
4. Flat accordion/section design
5. No visible differences between HUD and EFE mobile layouts
</success_criteria>

<output>
After completion, create `.planning/phases/03-category-detail-integration/03-02-SUMMARY.md`
</output>
