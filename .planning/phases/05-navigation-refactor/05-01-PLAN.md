---
phase: 05-navigation-refactor
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/pages/hud/hud-main/hud-main.page.ts
autonomous: true

must_haves:
  truths:
    - "Main page shows exactly 2 navigation buttons"
    - "Tapping 'Project Details' navigates to /hud/:projectId/:serviceId/project-details"
    - "Tapping 'HUD / Mobile Manufactured' navigates to /hud/:projectId/:serviceId/category/hud"
  artifacts:
    - path: "src/app/pages/hud/hud-main/hud-main.page.ts"
      provides: "Navigation cards and navigateTo method"
      contains: "cards: NavigationCard[] = ["
  key_links:
    - from: "hud-main.page.ts"
      to: "/hud route"
      via: "router.navigate in navigateTo()"
      pattern: "router\\.navigate\\(\\['/hud'"
---

<objective>
Update HUD main page to display 2 navigation buttons and fix navigation paths.

Purpose: Replace 3 EFE-copied cards with 2 HUD-specific cards and fix hardcoded `/engineers-foundation` path to `/hud`.
Output: HUD main page with correct navigation buttons that route to HUD sub-pages.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/05-navigation-refactor/05-RESEARCH.md

Reference files:
@src/app/pages/hud/hud-main/hud-main.page.ts
@src/app/pages/engineers-foundation/engineers-foundation-main/engineers-foundation-main.page.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update cards array to 2 HUD-specific items</name>
  <files>src/app/pages/hud/hud-main/hud-main.page.ts</files>
  <action>
Update the `cards` array (lines 33-55) to contain exactly 2 items:

```typescript
cards: NavigationCard[] = [
  {
    title: 'Project Details',
    icon: 'document-text-outline',
    route: 'project-details',
    description: 'Property information, people, and environmental conditions',
    completed: false
  },
  {
    title: 'HUD / Mobile Manufactured',
    icon: 'construct-outline',
    route: 'category/hud',
    description: 'HUD inspection checklist items and photos',
    completed: false
  }
];
```

Remove the third card ("Elevation Plot" with route "elevation") - HUD does not have elevation plot functionality.
  </action>
  <verify>
Search hud-main.page.ts for "cards: NavigationCard[]" and verify array has exactly 2 items.
No occurrence of "Elevation Plot" or "route: 'elevation'" should exist.
  </verify>
  <done>Cards array contains exactly 2 items: "Project Details" and "HUD / Mobile Manufactured"</done>
</task>

<task type="auto">
  <name>Task 2: Fix navigateTo() to use /hud base path</name>
  <files>src/app/pages/hud/hud-main/hud-main.page.ts</files>
  <action>
Update the `navigateTo()` method (lines 187-197) to use `/hud` instead of `/engineers-foundation`:

```typescript
navigateTo(card: NavigationCard) {
  console.log('[HUD Main] Navigating to:', card.route, 'projectId:', this.projectId, 'serviceId:', this.serviceId);

  // Use absolute navigation with correct base route
  if (this.projectId && this.serviceId) {
    this.router.navigate(['/hud', this.projectId, this.serviceId, card.route]);
  } else {
    // Fallback to relative navigation
    this.router.navigate([card.route], { relativeTo: this.route.parent });
  }
}
```

CRITICAL: The only change is replacing `/engineers-foundation` with `/hud` on line 192.
  </action>
  <verify>
Search hud-main.page.ts for "engineers-foundation" - should find 0 occurrences.
Search for "'/hud'" - should find it in navigateTo method.
  </verify>
  <done>navigateTo() routes to /hud/:projectId/:serviceId/:route instead of /engineers-foundation</done>
</task>

</tasks>

<verification>
1. Grep for "Elevation Plot" in hud-main.page.ts - should return 0 matches
2. Grep for "engineers-foundation" in hud-main.page.ts - should return 0 matches
3. Grep for "'/hud'" in hud-main.page.ts - should return 1 match in navigateTo()
4. Count cards array items - should be exactly 2
</verification>

<success_criteria>
- [ ] Cards array has exactly 2 items (Project Details + HUD / Mobile Manufactured)
- [ ] No "Elevation Plot" card in the array
- [ ] navigateTo() uses '/hud' base path
- [ ] No '/engineers-foundation' references in file
</success_criteria>

<output>
After completion, create `.planning/phases/05-navigation-refactor/05-01-SUMMARY.md`
</output>
