<ion-chip [color]="getStatusColor()" *ngIf="hasPendingItems()">
  <ion-icon [name]="getStatusIcon()"></ion-icon>
  <ion-label>{{ getStatusMessage() }}</ion-label>
  <ion-button 
    fill="clear" 
    size="small" 
    (click)="forceSync()"
    [disabled]="syncStatus.isSyncing">
    <ion-icon slot="icon-only" name="refresh"></ion-icon>
  </ion-button>
</ion-chip>

<!-- Detailed status (expandable) -->
<ion-card *ngIf="syncStatus.pendingCount > 0 || syncStatus.failedCount > 0" class="sync-status-card">
  <ion-card-header>
    <ion-card-title>Sync Status</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <ion-list>
      <ion-item *ngIf="syncStatus.pendingCount > 0">
        <ion-icon name="cloud-upload-outline" slot="start" color="warning"></ion-icon>
        <ion-label>
          <h3>Pending</h3>
          <p>{{syncStatus.pendingCount}} items waiting to sync</p>
        </ion-label>
      </ion-item>

      <ion-item *ngIf="syncStatus.syncedCount > 0">
        <ion-icon name="cloud-done" slot="start" color="success"></ion-icon>
        <ion-label>
          <h3>Synced</h3>
          <p>{{syncStatus.syncedCount}} items synced successfully</p>
        </ion-label>
      </ion-item>

      <ion-item *ngIf="syncStatus.failedCount > 0">
        <ion-icon name="alert-circle" slot="start" color="danger"></ion-icon>
        <ion-label>
          <h3>Failed</h3>
          <p>{{syncStatus.failedCount}} items failed (will keep retrying)</p>
        </ion-label>
      </ion-item>

      <ion-item *ngIf="syncStatus.lastSyncTime">
        <ion-icon name="time-outline" slot="start"></ion-icon>
        <ion-label>
          <h3>Last Sync</h3>
          <p>{{ getLastSyncTime() }}</p>
        </ion-label>
      </ion-item>
    </ion-list>

    <ion-button 
      expand="block" 
      (click)="forceSync()"
      [disabled]="syncStatus.isSyncing">
      <ion-icon name="sync" slot="start"></ion-icon>
      Sync Now
    </ion-button>
  </ion-card-content>
</ion-card>

