$gray:#e0e0e0;
$dark:#333;
$med:#666;
$light:#f8f9fa;
$border:#dee2e6;

ion-content{--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0}

.loading-container,.error-container{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px;padding:20px}

.street-view-header{width:100%;height:200px;overflow:hidden;background:$gray;
img{width:100%;height:100%;object-fit:cover}}

.info-section{padding:20px;background:white;margin-bottom:10px;border-bottom:1px solid $gray;
.section-title{font-size:18px;font-weight:600;color:$dark;margin:0 0 15px 0;padding-bottom:10px;border-bottom:2px solid $dark}
h3{font-size:16px;font-weight:600;margin:16px 0 12px 0}
.info-row{display:flex;padding:8px 0;
.info-label{font-weight:500;color:$med;width:140px}
.info-value{color:$dark;flex:1}}}

.services-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:12px;margin-bottom:20px}

.service-item{display:flex;align-items:center;gap:8px;padding:8px;border:1px solid $gray;border-radius:8px;background:#f9f9f9;
label{flex:1;cursor:pointer;font-size:14px}}

.selected-services-table{margin-top:20px;padding-top:20px;border-top:2px solid $gray;
h3{font-size:16px;font-weight:600;margin-bottom:12px;color:$dark}}

.services-table {
  border: 1px solid $border;
  border-radius: 8px;
  overflow: hidden;
  background: white;
  
  .table-header {
    display: grid;
    grid-template-columns: 2fr 1fr 0.8fr;
    background: $light;
    font-weight: 600;
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border-bottom: 2px solid $border;
    
    > div {
      padding: 12px;
      color: $med;
    }
    
    .col-date-header {
      text-align: center !important;
      display: flex !important;
      justify-content: center !important;
      align-items: center !important;
    }
    > div:nth-child(2) {
      text-align: center !important;
      display: flex !important;
      justify-content: center !important;
    }
  }
  
  .table-row {
    display: grid;
    grid-template-columns: 2fr 1fr 0.8fr;
    border-bottom: 1px solid #e9ecef;
    align-items: center;
    
    &:last-child {
      border-bottom: none;
    }
    
    &:hover {
      background: #fafbfc;
    }
    
    > div {
      padding: 10px 12px;
      font-size: 14px;
    }
    
    .col-service {
      font-weight: 500;
      color: $dark;
      display: flex;
      align-items: center;
      gap: 8px;
      
      .instance-badge {
        background: #e3f2fd;
        color: #1976d2;
        padding: 2px 6px;
        border-radius: 12px;
        font-size: 11px;
        font-weight: 600;
      }
    }
    
    .col-date {
      display: flex;
      align-items: center;
      justify-content: center; // Center the date input
      gap: 8px;
      
      .date-input {
        width: 100%;
        max-width: 150px;
        padding: 6px 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 13px;
        background: white;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica", "Arial", sans-serif;
        
        &:focus {
          outline: none;
          border-color: #3880ff;
          box-shadow: 0 0 0 2px rgba(56, 128, 255, 0.1);
        }
        
        &:disabled {
          background: #f5f5f5;
          color: #999;
        }
      }
      
      .saving-indicator, .saved-indicator {
        display: inline-flex;
        align-items: center;
        font-size: 12px;
        
        ion-spinner {
          width: 14px;
          height: 14px;
        }
        
        ion-icon {
          font-size: 16px;
        }
      }
    }
    
    .col-actions {
      display: flex;
      gap: 2px;
      justify-content: flex-start;
      
      ion-button {
        --padding-start: 6px;
        --padding-end: 6px;
        
        ion-icon {
          font-size: 18px;
        }
      }
    }
  }
}

.documents-table,.templates-table{margin-top:10px;border:1px solid $border;border-radius:8px;overflow:hidden}

.doc-header,.template-header{display:grid;background:$light;font-weight:600;font-size:14px;border-bottom:2px solid $border;
>div{padding:12px;display:flex;align-items:center}}

.doc-header{grid-template-columns:1.5fr 2fr 1fr 1.5fr;
>div:first-child{font-weight:700}}
.template-header{grid-template-columns:2fr 1fr 1fr}

.doc-row,.template-row{display:grid;border-bottom:1px solid #e9ecef;
>*{padding:12px;font-size:14px}}

.documents-table {
  margin-top: 10px;
  border: 1px solid $border;
  border-radius: 8px;
  overflow: hidden;
  max-width: 100%;
  
  .doc-row {
    display: grid;
    grid-template-columns: 30% 40% 30%;
    min-height: 48px;
    align-items: center;
    border-bottom: 1px solid #e9ecef;
    
    > div {
      padding: 10px 12px;
      font-size: 14px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    
    .doc-service {
      font-weight: 600;
      padding-left: 12px;
    }
    
    .doc-title {
      display: flex;
      align-items: center;
      gap: 8px;
      
      .uploaded-text {
        color: #28a745;
        font-weight: 500;
      }
      
      .doc-status {
        font-size: 11px;
        padding: 2px 8px;
        border-radius: 12px;
        background: #d1ecf1;
        color: #0c5460;
        
        &.required {
          background: #f8d7da;
          color: #721c24;
        }
      }
      
      .remove-doc-link {
        margin-left: auto;
        color: #dc3545;
        font-size: 12px;
        cursor: pointer;
        text-decoration: none;
      }
    }
    
    .doc-actions {
      text-align: center;
      display: flex;
      gap: 4px;
      justify-content: center;
      flex-wrap: wrap;
      
      ion-button {
        --padding-start: 8px;
        --padding-end: 8px;
        font-size: 12px;
        margin: 2px;
      }
      
      .uploaded-actions {
        display: flex;
        gap: 4px;
        flex-wrap: wrap;
        justify-content: center;
      }
    }
    
    &.uploaded {
      .doc-title span:first-child {
        color: #28a745;
        font-weight: 500;
      }
    }
  }
  
  .doc-header {
    display: grid;
    grid-template-columns: 30% 40% 30%;
    background: $light;
    font-weight: 600;
    font-size: 14px;
    border-bottom: 2px solid $border;
    
    > div {
      padding: 12px;
    }
    
    > div:nth-child(1) { padding-left: 12px; }
    > div:nth-child(2) { }
    > div:nth-child(3) { text-align: center; }
  }
  
  .service-doc-group {
    position: relative;
    &:not(:last-child) {
      border-bottom: 2px solid #dee2e6;
    }
    
    .doc-row:first-child {
      > div:first-child {
        border-left: 3px solid #007bff;
        padding-left: 12px;
        background: #f8f9fa;
        font-weight: 600;
        position: relative;
        z-index: 1;
      }
    }
    
    .doc-row:not(:first-child) {
      > div:first-child {
        background: #f8f9fa;
        border-left: 3px solid #007bff;
        > div {
          visibility: hidden;
        }
      }
    }
  }
  
  .add-doc-row {
    background: #fafbfc;
    grid-template-columns: 30% 40% 30%;
    
    > div:nth-child(2) {
      text-align: left;
      padding-left: 12px;
    }
  }
}

.template-row{grid-template-columns:2fr 1fr 1fr}


.remove-doc-link,.add-doc-link{color:#007bff;text-decoration:none;font-size:12px;cursor:pointer}
.remove-doc-link{color:#dc3545;margin-left:10px}

ion-button{--padding-start:8px;--padding-end:8px;font-size:12px;text-transform:none}