<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()" color="primary">
        <ion-icon name="arrow-back"></ion-icon>
        Back to Projects
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- Loading state -->
  <div *ngIf="loading" class="loading-container">
    <ion-spinner name="crescent"></ion-spinner>
    <p>Loading project...</p>
  </div>

  <!-- Error state -->
  <div *ngIf="error && !loading" class="error-container">
    <ion-text color="danger">
      <h2>Project Not Found</h2>
      <p>The requested project could not be found.</p>
    </ion-text>
    <ion-button (click)="goBack()" color="primary">Back to Projects</ion-button>
  </div>

  <!-- Project details -->
  <div *ngIf="project && !loading && !error" class="project-container">
    <!-- Street View Header -->
    <div class="street-view-header">
      <img [src]="getStreetViewUrl()" alt="Street View">
    </div>

    <!-- Project Information -->
    <div class="project-info-section">
      <h2 class="section-title">PROJECT DETAILS</h2>
      <div class="project-title">{{ formatAddress() }}</div>
      
      <div class="detail-item">
        <span class="detail-label">Status:</span>
        <ion-badge color="success" class="status-badge">Active</ion-badge>
      </div>
      
      <div class="detail-item" *ngIf="project.Address">
        <span class="detail-label">Address:</span>
        <span class="detail-value">{{ project.Address }}</span>
      </div>
      
      <div class="detail-item" *ngIf="project.City">
        <span class="detail-label">City:</span>
        <span class="detail-value">{{ project.City }}</span>
      </div>
      
      <div class="detail-item" *ngIf="project.State">
        <span class="detail-label">State:</span>
        <span class="detail-value">{{ project.State }}</span>
      </div>
      
      <div class="detail-item" *ngIf="project.Project_ID">
        <span class="detail-label">Project ID:</span>
        <span class="detail-value">{{ project.Project_ID }}</span>
      </div>
      
      <div class="detail-item" *ngIf="project.Company_ID">
        <span class="detail-label">Company ID:</span>
        <span class="detail-value">{{ project.Company_ID }}</span>
      </div>
    </div>

    <!-- Templates Section -->
    <div class="templates-section" *ngIf="hasTemplates()">
      <h2 class="section-title">TEMPLATES</h2>
      <div class="template-list">
        <div class="template-item" *ngFor="let template of getAvailableTemplates()">
          <span class="template-name">{{ template.name }}</span>
          <ion-button (click)="openTemplate(template)" size="small" fill="outline">
            Open
          </ion-button>
        </div>
      </div>
    </div>

    <!-- Required Documents Section -->
    <div class="documents-section">
      <h2 class="section-title">Required Documents</h2>
      <div class="document-list">
        <div class="document-item">
          <span class="document-name">Home Inspection Report</span>
          <ion-button size="small" fill="solid" color="primary">
            <ion-icon name="cloud-upload" slot="start"></ion-icon>
            Upload
          </ion-button>
        </div>
        <div class="document-item">
          <span class="document-name">Support Document 1</span>
          <ion-button size="small" fill="solid" color="primary">
            <ion-icon name="cloud-upload" slot="start"></ion-icon>
            Upload
          </ion-button>
        </div>
        <div class="document-item">
          <span class="document-name">Support Document 2</span>
          <ion-button size="small" fill="solid" color="primary">
            <ion-icon name="cloud-upload" slot="start"></ion-icon>
            Upload
          </ion-button>
        </div>
      </div>
    </div>
  </div>
</ion-content>