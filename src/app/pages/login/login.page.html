<!-- Header removed -->

<ion-content class="login-content">
  <div class="login-container">
    <div class="logo-section">
      <div class="app-logo">
        <img src="assets/img/AppIcon-512@2x.png" alt="Noble Property Inspections" class="logo-img">
      </div>
      <h1>Noble Partnership Program</h1>
    </div>

    <div class="form-section">
      <div class="section-title">Sign On</div>
      
      <div class="input-wrapper">
        <div class="input-item" [class.input-error]="isWeb && shouldShowError('email')">
          <ion-icon name="mail-outline"></ion-icon>
          <ion-input
            data-testid="email-input"
            [(ngModel)]="credentials.email"
            type="email"
            placeholder="Email Address"
            autocomplete="username email"
            autocapitalize="off"
            inputmode="email"
            (ionBlur)="onFieldBlur('email')"
            (ionInput)="onFieldInput('email')"
            required>
          </ion-input>
        </div>
        <div class="validation-error" *ngIf="isWeb && shouldShowError('email')">
          <ion-icon name="alert-circle-outline"></ion-icon>
          {{ getFieldError('email') }}
        </div>
      </div>

      <div class="input-wrapper">
        <div class="input-item" [class.input-error]="isWeb && shouldShowError('password')">
          <ion-icon name="lock-closed-outline"></ion-icon>
          <ion-input
            data-testid="password-input"
            [(ngModel)]="credentials.password"
            [type]="showPassword ? 'text' : 'password'"
            placeholder="Password"
            autocomplete="current-password"
            (ionBlur)="onFieldBlur('password')"
            (ionInput)="onFieldInput('password')"
            required>
          </ion-input>
          <ion-button
            data-testid="toggle-password-visibility"
            fill="clear"
            class="visibility-toggle"
            (click)="togglePasswordVisibility()">
            <ion-icon [name]="showPassword ? 'eye-off-outline' : 'eye-outline'"></ion-icon>
          </ion-button>
        </div>
        <div class="validation-error" *ngIf="isWeb && shouldShowError('password')">
          <ion-icon name="alert-circle-outline"></ion-icon>
          {{ getFieldError('password') }}
        </div>
      </div>

      <ion-item lines="none" class="remember-item">
        <ion-checkbox
          slot="start"
          [(ngModel)]="rememberMe"
          color="primary"
          [tabindex]="isWeb ? 3 : undefined">
        </ion-checkbox>
        <ion-label>Remember me</ion-label>
      </ion-item>

      <ion-button
        data-testid="sign-in-button"
        expand="block"
        class="login-button"
        (click)="login()"
        [disabled]="!isFormValid()"
        [tabindex]="isWeb ? 4 : undefined">
        <ion-icon name="log-in-outline" slot="start"></ion-icon>
        Sign In
      </ion-button>

      <div class="forgot-password">
        <ion-button data-testid="forgot-password-button" fill="clear" size="small" (click)="forgotPassword()">
          <ion-icon name="help-circle-outline" slot="start"></ion-icon>
          Forgot Password?
        </ion-button>
      </div>
    </div>

    <div class="footer-text">
      <p>Â© 2024 Noble Property Inspections</p>
      <p class="secure-text">
        <ion-icon name="lock-closed-outline"></ion-icon>
        Secure Connection
      </p>
    </div>
  </div>
</ion-content>